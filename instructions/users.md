Регистрация пользователя, который не является администратором (manager/user), происходит следующим образом:

## Процесс регистрации

### Шаг 1: Отправка регистрационной формы
Пользователь отправляет `POST /api/v1/auth/register` с данными:
- `email` - email адрес
- `password` - пароль
- `full_name` - полное имя
- `organization_name` (опционально) - название организации

### Шаг 2: Создание пользователя
При регистрации система автоматически:
- Создает нового пользователя с ролью `admin` по умолчанию, если указано `organization_name`
- Создает новую организацию с указанным названием (если `organization_name` предоставлен)
- Делает пользователя владельцем организации
- Генерирует код верификации email
- Отправляет письмо с кодом на указанный email через Yandex Cloud Postbox
- Хеширует пароль с использованием bcrypt

### Шаг 3: Верификация email
Пользователь получает email с кодом верификации и отправляет `POST /api/v1/auth/verify-email`:
- `email` - email адрес
- `code` - код из письма

После успешной верификации поле `email_verified` устанавливается в `true`.

### Шаг 4: Вход в систему
После верификации email пользователь может войти через `POST /api/v1/auth/login` и получить JWT токены.

## Альтернативный путь: приглашение в организацию

Для ролей `manager` или `user` существует процесс приглашения:
- Администратор или менеджер организации отправляет приглашение через `POST /api/v1/organization/invite`
- Новый пользователь регистрируется обычным способом (получает роль `admin` своей организации)
- Принимает приглашение через `POST /api/v1/organization/invitations/accept` с кодом приглашения
- После принятия получает роль, указанную в приглашении (`manager` или `user`), в организации пригласившего

Таким образом, при самостоятельной регистрации все пользователи изначально становятся администраторами собственных организаций, а роли `manager` и `user` назначаются через систему приглашений.