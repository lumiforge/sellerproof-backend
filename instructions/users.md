Регистрация пользователя с ролями manager/user в [sellerproof-backend](https://github.com/lumiforge/sellerproof-backend) происходит через процесс приглашений (invitation flow), а не напрямую через эндпоинт `/api/v1/auth/register`.

## Процесс регистрации manager/user

При вызове `/api/v1/auth/register` новый пользователь автоматически получает роль **admin** и создается его собственная организация. Для добавления пользователей с ролями manager или user используется система приглашений:

### Шаги регистрации

1. **Администратор отправляет приглашение** (`POST /api/v1/organization/invite`)
   - Только admin или manager существующей организации могут приглашать пользователей
   - В запросе указывается email приглашаемого и желаемая роль (manager/user)
   - Генерируется invite_code и отправляется на email

2. **Пользователь регистрируется** (`POST /api/v1/auth/register`)
   - Новый пользователь регистрируется обычным способом (email, пароль, имя)
   - Получает роль admin и свою организацию по умолчанию

3. **Пользователь принимает приглашение** (`POST /api/v1/organization/invitations/accept`)
   - Использует полученный invite_code
   - Создается запись в таблице memberships с указанной ролью (manager/user)
   - Пользователь становится участником организации с соответствующими правами

4. **Переключение контекста** (`POST /api/v1/auth/switch-organization`)
   - Пользователь может переключиться в организацию, куда был приглашен
   - JWT токен обновляется с новыми правами (роль в контексте этой организации)

Таким образом, система использует RBAC с контекстом организаций: один пользователь может быть admin в своей организации и одновременно manager/user в других организациях, куда он был приглашен.