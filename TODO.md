# Цель
Сервис переведен на модель подписок когда считается только количество видео загруженных со дня начала текущей подписки. 
Поэтому нужно убрать StorageLimitMB и лишние методы связанные с этим, а также добавить проверку, что загружаемый файл не превышает VideoLimitMB.

# Детали

**1. Конфигурация и значения лимитов (VideoLimitMB):**
*   Где должны храниться значения `VideoLimitMB` (максимальный размер одного видео):
    *   *Пояснение:* Жестко прописаны в `config.go` (как сейчас `StorageLimit...`) и передаются в БД при инициализации планов;
    
**2. Миграция схемы БД (YDB):**
*   С нуля создаем все таблицы из метода internal/ydb/client.go:82-82```createTables``` так как это необходимо для новой схемы.

     
**3. Обратная совместимость API (Контракты):**
*  Не требуется, все с нуля.

**4. Логика подсчета "начала подписки":**
*   В текущем коде (`internal/ydb/client.go`, метод `GetStorageUsage`) есть логика вычисления начала *текущего месячного цикла* (динамический расчет на основе `StartedAt` и текущей даты).
*   Фраза в задании *"со дня начала текущей подписки"* означает:
    *   Начало текущего расчетного периода (месяца)? (То есть логику в `GetStorageUsage` оставляем как есть, она корректна).


**5. Поведение при превышении лимита размера (VideoLimitMB):**
*   Проверку нужно внедрить в два места:
    1.  `InitiateMultipartUpload`: когда клиент только заявляет размер.
    2.  `CompleteMultipartUpload`: когда файл уже загружен в S3.
*   Если при завершении загрузки (`Complete`) выясняется, что файл больше лимита (клиент обманул при инициализации):
    *   Мы удаляем файл из S3 и возвращаем ошибку (Это кажется наиболее правильным для prod).
    *   Не нужно  блокировать пользователя но обязательно отправлять алерт в телеграмм, через internal/telegram.

**6. Существующие данные:**
*   Нет.

**Важно:** это production-ready решение, это **не** MVP, писать только production-ready код.

